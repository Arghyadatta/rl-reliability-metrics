# RL Reliability Metrics

RL Reliability Metrics implements the concepts presented in "Measuring the reliability of Reinforcement Learning Algorithms" which will be presented at NeurIPS 2019.

## Prerequisites

*   absl
*   gin
*   matplotlib
*   numpy
*   scipy

### Only if loading input data generated by Tensorflow

*   tensorflow
*   tensorboard

## Example steps for entire pipeline

1.  Imports and params

    ```python
    import gin
    import os

    from rl_reliability_metrics.evaluation import eval

    algos = ['sac', 'td3']
    tasks = ['humanoid', 'swimmer']
    runs = ['1', '2', '3']
    n_runs_per_experiment = 3

    base_dir = "~/Downloads/tf_agents_mujoco_expts"
    data_dir = os.path.join(base_dir, 'data')
    results_dir = os.path.join(base_dir, 'results')

    metric_values_dir = os.path.join(results_dir, 'metric_values')
    metric_values_dir_permuted = os.path.join(results_dir, 'metric_values_permuted')
    metric_values_dir_bootstrapped = os.path.join(results_dir, 'metric_values_bootstrapped')
    pvals_dir = os.path.join(results_dir, 'stats_comparisons')
    confidence_intervals_dir = os.path.join(results_dir, 'stats_confidence_intervals')
    plots_dir = os.path.join(results_dir, 'plots')

    gin_file = './evaluation/example.gin'

    metrics = ['IqrWithinRuns', 'LowerCVaROnDiffs', 'LowerCVaROnDrawdown', 'IqrAcrossRuns', 'LowerCVaROnAcross', 'MedianPerfDuringTraining']
    metrics_no_timeframes = ['LowerCVaROnDiffs', 'LowerCVaROnDrawdown']
    metrics_with_timeframes = ['IqrWithinRuns', 'IqrAcrossRuns', 'LowerCVaROnAcross', 'MedianPerfDuringTraining']
    n_timeframes = 3
    timeframes = range(n_timeframes)
    n_random_samples = 10
    ```
